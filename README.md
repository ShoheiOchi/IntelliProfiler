# IntelliProfiler

This repository contains the code used in the study: **"IntelliProfiler: a novel analytic tool for behavior dynamics of multiple animals in a home cage"**. The IntelliProfiler system uses RFID technology to track and analyze the behavior of multiple mice within a home cage environment. This repository includes scripts for analyzing locomotor activity, social distances, and interaction patterns.

## Abstract of the Paper

There is a growing demand for sophisticated behavioral analysis systems that minimize bias in multi-animal and semi-natural environments. We present **IntelliProfiler**, an advanced system using radio frequency identification (RFID) technology to enable fully automated behavior analyses of multiple mice within a home cage. IntelliProfiler continuously monitors up to 16 mice, capturing both locomotor activity and social dynamics over extended periods. Our findings revealed that male mice maintain broader social distances than females, with group size playing a key role in shaping male social network dynamics. Furthermore, aging in males significantly impacts both locomotor activity and social interaction in a group size-dependent manner. IntelliProfiler offers a novel approach for exploring complex social interactions and group dynamics, advancing the field of behavioral science.

## Getting Started

These instructions will guide you on how to set up and run the IntelliProfiler code to track the position and behavior of mice equipped with RFID transponders.

### Prerequisites

The following R packages are required to run the scripts:
- `tidyverse`
- `openxlsx`
- `lubridate`

You can install these packages using the following commands:

```r
install.packages("tidyverse")
install.packages("openxlsx")
install.packages("lubridate")
```

Alternatively, the code will attempt to install missing packages when executed.

### Installation

1. Clone this repository to your local machine:
   ```bash
   git clone https://github.com/<your_username>/IntelliProfiler.git
   ```

2. Open R or RStudio and set your working directory to the cloned repository:
   ```r
   setwd("path_to_repository/IntelliProfiler")
   ```

3. Ensure the necessary R packages are installed (the script will check for packages and install them if needed).

### Running the Analysis

1. **Data Preparation**:
   Prepare your RFID tracking data in a `.txt` file with the following structure:
   - Each row should contain a timestamp and the position data (separated by `]`).
   
2. **Running the Script**:
   To start the analysis, run the main script:
   ```r
   source("scripts/IntelliProfiler_tracking.R")
   ```

3. **File Input**:
   When prompted, select the `.txt` file that contains the RFID tracking data of the mice.

4. **Output**:
   The script will process the data and generate the following outputs:
   - Excel files containing the processed data for each mouse.
   - 2D plots of the tracked positions for each mouse in PDF format.
   - Time series plots of the X and Y positions.
   - Distance plots comparing the social distances between mice.

### Data Directory Structure

- **scripts/**: Contains the main R scripts for data processing and analysis.
- **data/**: Contains sample input data (you can place your `.txt` data files here).
- **results/**: After running the analysis, this directory will contain the output files including Excel data and PDF plots.

### Sample Usage

To run the analysis for a specific file, use the following command in R:

```r
source("scripts/position_tracking.R")
```

Follow the instructions in the console to select your input file, and the analysis will proceed automatically.

### Output Example

The following are examples of the output files generated by the analysis:
- **Excel files**: Data files for each mouse, containing the positions and calculated distances over time.
- **PDF plots**: Visualizations of the 2D positions and social distances between mice.

### License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

### Contact

For any questions or issues regarding the code, please contact the corresponding authors via email.
